{"ast":null,"code":"'use client';\n\"use strict\";\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from)) if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n      get: () => from[key],\n      enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n    });\n  }\n  return to;\n};\nvar __toCommonJS = mod => __copyProps(__defProp({}, \"__esModule\", {\n  value: true\n}), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  useEventListener: () => useEventListener\n});\nmodule.exports = __toCommonJS(src_exports);\nvar import_react = require(\"react\");\nvar import_react_use_callback_ref = require(\"@chakra-ui/react-use-callback-ref\");\nfunction useEventListener(target, event, handler, options) {\n  const listener = (0, import_react_use_callback_ref.useCallbackRef)(handler);\n  (0, import_react.useEffect)(() => {\n    const node = typeof target === \"function\" ? target() : target != null ? target : document;\n    if (!handler || !node) return;\n    node.addEventListener(event, listener, options);\n    return () => {\n      node.removeEventListener(event, listener, options);\n    };\n  }, [event, target, options, listener, handler]);\n  return () => {\n    const node = typeof target === \"function\" ? target() : target != null ? target : document;\n    node == null ? void 0 : node.removeEventListener(event, listener, options);\n  };\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  useEventListener\n});","map":{"version":3,"names":["src_exports","__export","useEventListener","module","exports","__toCommonJS","import_react","require","import_react_use_callback_ref","target","event","handler","options","listener","useCallbackRef","useEffect","node","document","addEventListener","removeEventListener"],"sources":["../src/index.ts"],"sourcesContent":["import { useEffect } from \"react\"\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\"\n\ntype Target = EventTarget | null | (() => EventTarget | null)\ntype Options = boolean | AddEventListenerOptions\n\nexport function useEventListener<K extends keyof DocumentEventMap>(\n  target: Target,\n  event: K,\n  handler?: (event: DocumentEventMap[K]) => void,\n  options?: Options,\n): VoidFunction\nexport function useEventListener<K extends keyof WindowEventMap>(\n  target: Target,\n  event: K,\n  handler?: (event: WindowEventMap[K]) => void,\n  options?: Options,\n): VoidFunction\nexport function useEventListener<K extends keyof GlobalEventHandlersEventMap>(\n  target: Target,\n  event: K,\n  handler?: (event: GlobalEventHandlersEventMap[K]) => void,\n  options?: Options,\n): VoidFunction\nexport function useEventListener(\n  target: Target,\n  event: string,\n  handler: ((event: Event) => void) | undefined,\n  options?: Options,\n) {\n  const listener = useCallbackRef(handler)\n\n  useEffect(() => {\n    const node = typeof target === \"function\" ? target() : target ?? document\n\n    if (!handler || !node) return\n\n    node.addEventListener(event, listener, options)\n    return () => {\n      node.removeEventListener(event, listener, options)\n    }\n  }, [event, target, options, listener, handler])\n\n  return () => {\n    const node = typeof target === \"function\" ? target() : target ?? document\n    node?.removeEventListener(event, listener, options)\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,WAAA;AAAAC,QAAA,CAAAD,WAAA;EAAAE,gBAAA,EAAAA,CAAA,KAAAA;AAAA;AAAAC,MAAA,CAAAC,OAAA,GAAAC,YAAA,CAAAL,WAAA;AAAA,IAAAM,YAAA,GAA0BC,OAAA;AAC1B,IAAAC,6BAAA,GAA+BD,OAAA;AAuBxB,SAASL,iBACdO,MAAA,EACAC,KAAA,EACAC,OAAA,EACAC,OAAA,EACA;EACA,MAAMC,QAAA,OAAWL,6BAAA,CAAAM,cAAA,EAAeH,OAAO;EAEvC,IAAAL,YAAA,CAAAS,SAAA,EAAU,MAAM;IACd,MAAMC,IAAA,GAAO,OAAOP,MAAA,KAAW,aAAaA,MAAA,CAAO,IAAIA,MAAA,WAAAA,MAAA,GAAUQ,QAAA;IAEjE,IAAI,CAACN,OAAA,IAAW,CAACK,IAAA,EAAM;IAEvBA,IAAA,CAAKE,gBAAA,CAAiBR,KAAA,EAAOG,QAAA,EAAUD,OAAO;IAC9C,OAAO,MAAM;MACXI,IAAA,CAAKG,mBAAA,CAAoBT,KAAA,EAAOG,QAAA,EAAUD,OAAO;IACnD;EACF,GAAG,CAACF,KAAA,EAAOD,MAAA,EAAQG,OAAA,EAASC,QAAA,EAAUF,OAAO,CAAC;EAE9C,OAAO,MAAM;IACX,MAAMK,IAAA,GAAO,OAAOP,MAAA,KAAW,aAAaA,MAAA,CAAO,IAAIA,MAAA,WAAAA,MAAA,GAAUQ,QAAA;IACjED,IAAA,oBAAAA,IAAA,CAAMG,mBAAA,CAAoBT,KAAA,EAAOG,QAAA,EAAUD,OAAA;EAC7C;AACF","ignoreList":[]},"metadata":{},"sourceType":"script"}